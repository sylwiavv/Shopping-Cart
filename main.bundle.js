"use strict";var createProduct=function(t,e,r,a,n){return{Name:t,Qty:e,Price:r,Sku:a,Image:n}},productsArray=[createProduct("Strelitzia Nicolai",1,30,"Sku1","images/plants/strelitzia_nicolai.jpeg"),createProduct("Alocasia Amazonian elephant ear",1,"12,67","Sku2","images/plants/alocasia_amazonian_elephant_ear.jpeg"),createProduct("Ficus Elastica",1,76,"Sku3","images/plants/ficus_elastica.png"),createProduct("Monstera deliciosa thai constellation",1,73,"Sku4","images/plants/monstera_deliciosa_thai_constellation.jpeg"),createProduct("Ficus Tineke",1,10,"Sku5","images/plants/ficus_tineke.jpeg"),createProduct("Senecio Rowleyanus String of pearls",1,45,"Sku6","images/plants/senecio_rowleyanus_string_of_pearls.jpeg"),createProduct("Monstera Deliciosa",1,34,"Sku7","images/plants/monstera_deliciosa.jpeg"),createProduct("Sansevieria Moonshine",1,65,"Sku8","images/plants/sansevieria_moonshine.png"),createProduct("Philodendron White Princess",1,4,"Sku9","images/plants/philodendron_white_princess.jpeg"),createProduct("Stromanthe Sanguinea Triostar",1,65,"Sku10","images/plants/stromanthe_sanguinea_triostar.png"),createProduct("Monstera Adansonii Swiss Cheese Vine",1,32,"Sku11","images/plants/monstera_adansonii_swiss_cheese_vine.png"),createProduct("Alocasia Zebrinaa",1,16,"Sku12","images/plants/alocasia_zebrina.jpeg"),createProduct("Chamedora",1,123,"Sku13","images/plants/palm_chamedora.png"),createProduct("Epipremnum Aureum n'joy",1,100,"Sku14","images/plants/epipremnum_aureum_njoy.png"),createProduct("Alocasia Stingray",1,106,"Sku15","images/plants/alocasia_stingray.jpeg"),createProduct("Philodendron Silver Queen",1,19,"Sku16","images/plants/philodendron_silver_queen.jpeg"),createProduct("Syngonium Noteon Robusta",1,60,"Sku17","images/plants/syngonium_neon_robusta.jpeg"),createProduct("Ficus Lyrata",1,64,"Sku18","images/plants/ficus_lyrata.jpeg"),createProduct("Pilea Peperomioides",1,54,"Sku19","images/plants/pilea_peperomioides.jpeg")],producstList=document.querySelector("#main-products-list"),cartProductsList=document.querySelector("#main-products-cart-list"),renderProducts=function(t,e){t.innerHTML=e.map(function(t){return'<li data-product-id="'.concat(t.Sku,'" class="product">\n          <div class="product__image-container">\n            <img src="').concat(t.Image,'" alt="').concat(t.Name,'">\n          </div>\n          <div class="product-information">\n            <p class="product-information__sku">').concat(t.Sku,'</p>\n            <p class="product-information__title">').concat(t.Name,'</p>\n            <div class="product-information__to-cart">\n            <form>\n            <label class="label" for="qty"><span>Ilość</span></label>\n              <input class="product-information__qty" name="qty" type="number" value="').concat(t.Qty,'">\n            </form>\n              <p class="product-information__price">$').concat(t.Price,'</p>\n            </div>\n          </div>\n          <div class="product-actions">\n          <div data="').concat(t.Name,'" class="add-to-cart"></div>\n          <div class="before-add-to-cart"></div>\n        </div>\n      </li>')}).join("")},renderCartProducts=function(t){cartProductsList.innerHTML=t.map(function(t){return'<li data-product-id="'.concat(t.Sku,'" class="product">\n          <div class="product__image-container">\n            <img src="').concat(t.Image,'" alt="').concat(t.Name,'">\n          </div>\n          <div class="product-information">\n            <p class="product-information__sku">').concat(t.Sku,'</p>\n            <p class="product-information__title">').concat(t.Name,'</p>\n            <div class="product-information__to-cart">\n            <p class="product-information__price">$').concat(t.Price,'</p>\n              <label class="label" for="qty"><span>Ilość</span></label>\n              <form>\n                <div class="value-button decrease" value="Decrease Value">-</div>\n                <input class="product-information__qty cart_qty" name="qty" type="number" value="').concat(t.Qty,'">\n                <div class="value-button increase" value="Increase Value">+</div>\n              </form>\n            </div>\n          </div>\n\n          <div class="product-actions">\n            <div data="').concat(t.Name,'" class="remove-from-cart"></div>\n          </div>\n      </li>')}).join("")};renderProducts(producstList,productsArray);var timer,body=document.body,addToCartButtons=document.querySelectorAll(".add-to-cart"),productList=document.querySelectorAll(".products-list-container"),mainProductsList=document.querySelector("#main-products-list"),cartIcon=document.querySelector(".cart-icon"),amountCart=document.querySelector("#cart-product-number"),cartArray=[],productsFromLocalStorage=JSON.parse(localStorage.getItem("myLocalCartProducts"));addToCartButtons.forEach(function(t){t.addEventListener("click",function(t){var e=t.target.parentElement.parentElement,r=e.dataset.productId,a=e.querySelector(".product-information__qty").value,n=e.querySelector(".product-information__title").textContent,a=parseInt(a);(isNaN(a)||a<=0||"string"==typeof a)&&(a=1);t=cartArray.filter(function(t){return t.Id===r});t.length?t[0].Qty=a+t[0].Qty:cartArray.push({Id:r,Qty:a});var c=document.createElement("div");c.setAttribute("class","add-to-cart-modal"),c.innerHTML="<p>Dodano produkt "+"".concat(n)+"</p>";t=timer;timer=window.setTimeout(function(){return c.classList.add("list-leave-active")},3e3),window.setTimeout(function(){return document.querySelector(".list-leave-active").remove()},5e3);a=e.querySelector(".add-to-cart-modal"),e=e.querySelector(".product__image-container").cloneNode(!0);null==a?(body.appendChild(c),c.prepend(e)):(window.clearTimeout(t),a.innerHTML="<p>Dodano kolejną  sztukę "+"".concat(n)+"</p>"),cartIcon.classList.add("shake"),setTimeout(function(){return cartIcon.classList.remove("shake")},500),renderCart(),updateNumberInCart()})});var renderCart=function(){var t=cartArray.map(function(e){var t=productsArray.filter(function(t){return e.Id===t.Sku})[0];return t.Qty=e.Qty,t});renderCartProducts(t),removeCartProduct(),updateQtyValueInCart(),totalCartPrice(),document.querySelectorAll(".cart_qty").forEach(function(t){t.disabled=!0}),localStorage.setItem("myLocalCartProducts",JSON.stringify(cartArray))},removeCartProduct=function(){document.querySelectorAll(".remove-from-cart").forEach(function(a){a.addEventListener("click",function(t){var e=a.parentElement.parentElement.dataset.productId,r=cartArray.find(function(t){return t.Id===e}),r=cartArray.indexOf(r);cartArray.splice(r,1),updateNumberInCart(),renderCart()})})},updateNumberInCart=function(){var t=document.querySelector(".cart-information");amountCart.innerHTML=cartArray.length;t.innerHTML=0==cartArray.length?"Twój koszyk jest pusty":"",0==cartArray.length?t.classList.add("empty"):t.classList.remove("empty")},totalCartPrice=function(){var t=document.querySelectorAll("#main-products-cart-list > .product");if(t.length){for(var e=0,r=0;r<t.length;r++){var a=t[r],n=a.querySelectorAll(".product-information__price")[0],n=parseFloat(n.innerText.replace("$","")),a=a.querySelectorAll(".product-information__qty")[0].value;e+=n*(a=parseInt(a,10))}document.querySelectorAll("#total-price")[0].innerHTML="$"+e}else 0===t.length&&(document.querySelectorAll("#total-price")[0].innerHTML="$0")},parent=document.querySelector(".minicart-wrapper"),child=document.querySelector("#cart-list"),closeMinicartBtn=document.querySelector("#close-minicart");parent.addEventListener("click",function(t){t.target===t.currentTarget&&(parent.classList.toggle("active"),body.classList.toggle("not-scroll"))}),body.addEventListener("click",function(t){t.target==t.currentTarget&&body.classList.contains("not-scroll")&&(body.classList.remove("not-scroll"),parent.classList.remove("active"))}),closeMinicartBtn.addEventListener("click",function(t){t.target==t.currentTarget&&body.classList.contains("not-scroll")&&(body.classList.remove("not-scroll"),parent.classList.remove("active"))});var updateCartProductQty=function(e,t){cartArray.filter(function(t){return t.Id===e})[0].Qty=t},updateQtyValueInCart=function(){var t=document.querySelectorAll(".increase"),e=document.querySelectorAll(".decrease");t.forEach(function(t){t.addEventListener("click",function(t){var e=event.target,r=t.target.parentNode.querySelector(".cart_qty"),e=e.parentElement.parentElement.parentElement.parentElement.dataset.productId,r=parseInt(r.value,10);r=isNaN(r)?0:r,r++,t.target.parentNode.querySelector(".cart_qty").value=r,totalCartPrice(),updateCartProductQty(e,r)})}),e.forEach(function(t){t.addEventListener("click",function(t){var e=event.target,r=t.target.parentNode.querySelector(".cart_qty"),e=e.parentElement.parentElement.parentElement.parentElement.dataset.productId,r=parseInt(r.value,10);(r=isNaN(r)?0:r)<1&&(r=1),r--,t.target.parentNode.querySelector(".cart_qty").value=r,totalCartPrice(),updateCartProductQty(e,r)})})};productsFromLocalStorage&&(cartArray=productsFromLocalStorage,updateNumberInCart(),renderCart());